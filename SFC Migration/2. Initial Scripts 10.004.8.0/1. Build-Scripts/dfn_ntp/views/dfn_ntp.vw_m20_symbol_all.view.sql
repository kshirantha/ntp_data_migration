CREATE OR REPLACE FORCE VIEW dfn_ntp.vw_m20_symbol_all
(
    m20_id,
    m20_exchange_id_m01,
    m20_symbol_code,
    m20_price_symbol_code_m20,
    m20_price_exchange_code_m01,
    m20_market_code_m29,
    m20_instrument_type_code_v09,
    m20_instrument_type_id_v09,
    m20_currency_code_m03,
    m20_currency_id_m03,
    m20_trading_status_id_v22,
    m20_status_id_v01,
    m20_access_level_id_v01,
    m20_trading_allowed,
    m20_online_trading_allowed,
    m20_restricted_direction,
    m20_minprice,
    m20_maxprice,
    m20_lasttradeprice,
    m20_lot_size,
    m20_settle_category_v11,
    m20_price_ratio,
    m20_sharia_complient,
    m20_reuters_code,
    m20_isincode,
    m20_cusip_no,
    m20_country_m05_id,
    m20_small_orders,
    m20_small_order_value,
    m20_minimum_unit_size,
    m20_bloomberg_code,
    m20_status_changed_by_id_u17,
    m20_status_changed_date,
    m20_created_by_id_u17,
    m20_created_date,
    m20_last_updated_by_id_u17,
    m20_last_updated_date,
    m20_external_ref,
    m20_short_description,
    m20_short_description_lang,
    m20_long_description,
    m20_long_description_lang,
    m20_price_instrument_type_v09,
    m20_is_white_symbol,
    m20_market_segment,
    m20_exchange_code_m01,
    m20_base_symbol_m20,
    m20_base_symbol_id_m20,
    m20_base_exchange_code_m01,
    m20_base_exchange_id_m01,
    m20_date_of_last_price,
    m20_today_closed,
    m20_previous_closed,
    m20_price_type,
    m20_expire_date,
    m20_maturity_day,
    m20_maturity_myear,
    m20_fund_type_v01,
    m20_cutofftime,
    m20_amc,
    m20_short_name,
    m20_issuer_name,
    m20_issue_size,
    m20_security_domicile_id_m05,
    m20_security_currency_code_m03,
    m20_security_currency_id_m03,
    m20_price_update_code_v23,
    m20_industry_v24,
    m20_issue_date,
    m20_maturity_date,
    m20_divident_date,
    m20_int_payment_date,
    m20_accrual_start_date,
    m20_no_of_payment_v25,
    m20_bond_trade_type,
    m20_margin_control,
    m20_safe_custody_code,
    m20_interest_rate,
    m20_interest_day_basis_id_v26,
    m20_def_depository_code_m01,
    m20_default_depository_id_m01,
    m20_share_register,
    m20_euro_clear_no,
    m20_cedel_no,
    m20_sedol_no,
    m20_quoted_listed_no,
    m20_risk_currency_code_m03,
    m20_risk_currency_id_m03,
    m20_risk_country_id_m05,
    m20_rating_v27,
    m20_municipal_gvt_code_m01,
    m20_municipal_gvt_id_m01,
    m20_session_1_start_date,
    m20_session_1_end_date,
    m20_session_2_start_date,
    m20_session_2_end_date,
    m20_session_1_hijri_strt_date,
    m20_session_1_hijri_end_date,
    m20_session_2_hijri_strt_date,
    m20_session_2_hijri_end_date,
    m20_strike_price,
    m20_option_type,
    m20_stock_exchange_code_m01,
    m20_stock_exchange_id_m01,
    m20_exchange_symbol_code_m20,
    m20_vwap,
    m20_sectors_id_m63,
    m20_price_instrument_id_v34,
    m20_price_instrument_code_v34,
    m20_minimum_discloused_qty,
    m20_sub_asset_type_id_v08,
    m20_institute_id_m02,
    m20_market_id_m29,
    m20_initial_margin_value,
    m20_fixing_price,
    v26_description,
    m20_quantity_decimal_factor,
    m20_short_selling,
    m20_trade_type_v01
)
AS
    SELECT a.m20_id,
           a.m20_exchange_id_m01,
           a.m20_symbol_code,
           a.m20_price_symbol_code_m20,
           a.m20_price_exchange_code_m01,
           a.m20_market_code_m29,
           a.m20_instrument_type_code_v09,
           a.m20_instrument_type_id_v09,
           a.m20_currency_code_m03,
           a.m20_currency_id_m03,
           a.m20_trading_status_id_v22,
           a.m20_status_id_v01,
           a.m20_access_level_id_v01,
           a.m20_trading_allowed,
           a.m20_online_trading_allowed,
           a.m20_restricted_direction,
           a.m20_minprice,
           a.m20_maxprice,
           a.m20_lasttradeprice,
           a.m20_lot_size,
           a.m20_settle_category_v11,
           a.m20_price_ratio,
           a.m20_sharia_complient,
           a.m20_reuters_code,
           a.m20_isincode,
           a.m20_cusip_no,
           a.m20_country_m05_id,
           a.m20_small_orders,
           a.m20_small_order_value,
           a.m20_minimum_unit_size,
           a.m20_bloomberg_code,
           a.m20_status_changed_by_id_u17,
           a.m20_status_changed_date,
           a.m20_created_by_id_u17,
           a.m20_created_date,
           a.m20_last_updated_by_id_u17,
           a.m20_last_updated_date,
           a.m20_external_ref,
           a.m20_short_description,
           a.m20_short_description_lang,
           a.m20_long_description,
           a.m20_long_description_lang,
           a.m20_price_instrument_type_v09,
           a.m20_is_white_symbol,
           a.m20_market_segment,
           a.m20_exchange_code_m01,
           a.m20_base_symbol_m20,
           a.m20_base_symbol_id_m20,
           a.m20_base_exchange_code_m01,
           a.m20_base_exchange_id_m01,
           a.m20_date_of_last_price,
           a.m20_today_closed,
           a.m20_previous_closed,
           a.m20_price_type,
           a.m20_expire_date,
           b.m20_maturity_day,
           b.m20_maturity_myear,
           b.m20_fund_type_v01,
           b.m20_cutofftime,
           b.m20_amc,
           b.m20_short_name,
           b.m20_issuer_name,
           b.m20_issue_size,
           b.m20_security_domicile_id_m05,
           b.m20_security_currency_code_m03,
           b.m20_security_currency_id_m03,
           b.m20_price_update_code_v23,
           b.m20_industry_v24,
           b.m20_issue_date,
           b.m20_maturity_date,
           b.m20_divident_date,
           b.m20_int_payment_date,
           b.m20_accrual_start_date,
           b.m20_no_of_payment_v25,
           b.m20_bond_trade_type,
           b.m20_margin_control,
           b.m20_safe_custody_code,
           b.m20_interest_rate,
           b.m20_interest_day_basis_id_v26,
           b.m20_def_depository_code_m01,
           b.m20_default_depository_id_m01,
           b.m20_share_register,
           b.m20_euro_clear_no,
           b.m20_cedel_no,
           b.m20_sedol_no,
           b.m20_quoted_listed_no,
           b.m20_risk_currency_code_m03,
           b.m20_risk_currency_id_m03,
           b.m20_risk_country_id_m05,
           b.m20_rating_v27,
           b.m20_municipal_gvt_code_m01,
           b.m20_municipal_gvt_id_m01,
           b.m20_session_1_start_date,
           b.m20_session_1_end_date,
           b.m20_session_2_start_date,
           b.m20_session_2_end_date,
           b.m20_session_1_hijri_strt_date,
           b.m20_session_1_hijri_end_date,
           b.m20_session_2_hijri_strt_date,
           b.m20_session_2_hijri_end_date,
           a.m20_strike_price,
           a.m20_option_type,
           b.m20_stock_exchange_code_m01,
           b.m20_stock_exchange_id_m01,
           a.m20_exchange_symbol_code_m20,
           a.m20_vwap,
           a.m20_sectors_id_m63,
           a.m20_price_instrument_id_v34,
           a.m20_price_instrument_code_v34,
           a.m20_minimum_discloused_qty,
           b.m20_sub_asset_type_id_v08,
           a.m20_institute_id_m02,
           a.m20_market_id_m29,
           a.m20_initial_margin_value,
           a.m20_fixing_price,
           v26.v26_description,
           a.m20_quantity_decimal_factor,
           a.m20_short_selling,
           a.m20_trade_type_v01
      FROM m20_symbol a
           LEFT JOIN m20_symbol_extended b
               ON a.m20_id = b.m20_id
           LEFT JOIN v26_interest_day_basis v26
               ON b.m20_interest_day_basis_id_v26 = v26.v26_id
/
